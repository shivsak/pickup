<html>
<head>
  <meta charset="utf-8">
  <title>Pickup</title>
  <meta name="description" content="Pickup">
  <meta name="viewport" content="width=1000px, initial-scale=0.4, maximum-scale=1, minimum-scale=0.4">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>

  <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track' => true %>
  <%= javascript_include_tag 'application', 'data-turbolinks-track' => true %>
  <%= csrf_meta_tags %>

</head>
<body>
  <br /><br /><br />
  <div class="container limited">
  <h1>Games</h1>
  <a href="ui button">Button</a>

    <div class="ui text stackable menu">
          <div class="ui basic <% if !params[:sort].blank? %> blue <% else %>  <% end %> button simple dropdown right floated">
            <div class="text">Sort By<i class="dropdown icon"></i></div><br />
            <div class="menu">
              <%= link_to 'Price: Low', request.parameters.merge({:sort => 'price_lth'}), class:
              if params['sort'] == 'price_lth' then
                'active item'
              else
                'item'
              end %>
              <%= link_to 'Price: High', request.parameters.merge({:sort => 'price_htl'}), class:
              if params['sort'] == 'price_htl' then
                'active item'
              else
                'item'
              end %>
              <%= link_to 'Condition', request.parameters.merge({:sort => 'condition'}), class:
              if params['sort'] == 'condition' then
                'active item'
              else
                'item'
              end %>
              <%= link_to 'Recent', request.parameters.merge({:sort => 'recent'}), class:
              if params['sort'] == 'recent' then
                'active item'
              else
                'item'
              end %>
              <%= link_to request.parameters.merge({:sort => ''}), class:'item' do %>
                <i class="icon delete"></i>Clear
              <% end %>
            </div>
          </div>
          &nbsp;

          <div class="ui basic <% if !params[:category].blank? %> blue <% else %>  <% end %> button simple dropdown left floated">
            <div class="text"><i class="cube icon"></i>
              <% if !params[:category].blank? %>
                <%= params[:category].titleize %>
              <% else %>
                Type
              <% end %>
            <i class="dropdown icon"></i></div><br />
            <div class="menu">
              <%= link_to 'Books', request.parameters.merge({:category => 'books'}), class:'item' %>
              <%= link_to 'Electronics', request.parameters.merge({:category => 'electronics'}), class:'item' %>
              <%= link_to 'Clothes', request.parameters.merge({:category => 'clothes'}), class:'item' %>
              <%= link_to 'Home & Furniture', request.parameters.merge({:category => 'Home & Furniture'}), class:'item' %>
              <!-- <%= link_to 'Roommates', request.parameters.merge({:category => 'roommates'}), class:'item' %> -->
              <%= link_to 'School Supplies', request.parameters.merge({:category => 'school supplies'}), class:'item' %>
              <!-- <%= link_to 'Ride Sharing', request.parameters.merge({:category => 'ride sharing'}), class:'item' %> -->
              <%= link_to 'Miscellaneous', request.parameters.merge({:category => 'miscellaneous'}), class:'item' %>
              <%= link_to request.parameters.merge({:category => ''}), class:'item' do %>
                <i class="icon delete"></i>Clear
              <% end %>
            </div>
          </div>
          &nbsp;

          <div class="ui basic <% if !params[:low_price].blank? || !params[:high_price].blank? %> blue <% else %> <% end %> button simple dropdown left floated">
            <div class="text"><i class="money icon"></i>
              <% if !params[:low_price].blank? && !params[:high_price].blank? %>
                $<%= params[:low_price] %> - $<%= params[:high_price] %>
              <% elsif !params[:low_price].blank? && params[:high_price].blank? %>
                Above $<%= params[:low_price] %>
              <% elsif !params[:high_price].blank? && params[:low_price].blank? %>
                Below $<%= params[:high_price] %>
              <% else %>
                Price
              <% end %>

            <i class="dropdown icon"></i></div><br />
            <div class="menu">
              <%= link_to '$60 to $80', request.parameters.merge({:low_price => '60', :high_price => '80'}), class:'item' %>
              <%= link_to request.parameters.merge({:low_price => '', :high_price => ''}), class:'item' do %>
                <i class="icon delete"></i>Clear
              <% end %>
            </div>
          </div>


        <div class="right menu">
          <div class="item">
            <%= link_to request.parameters.merge({:list_type => 'list'}), class:'item' do %>
              <i class="icon list layout large <% if params[:list_type] != "list" %>grey<% else %> black<% end %>"></i>
            <% end %>
            <%= link_to request.parameters.merge({:list_type => 'card'}), class:'item' do %>
              <i class="icon block layout large <% if params[:list_type] != "card" %>grey<% else %> black<% end %>"></i>
            <% end %>
          </div>
          <div class="item">
            <div class="ui icon input">
              <form>
                <input type="text" name="query" placeholder="Search"></input>
                <input type="text" name="low_price" value="<%= params[:low_price] %>" hidden="true"></input>
                <input type="text" name="high_price" value="<%= params[:high_price] %>" hidden="true"></input>
                <input type="text" name="sort" value="<%= params[:sort] %>" hidden="true"></input>
                <input type="text" name="category" value="<%= params[:category] %>" hidden="true"></input>
                <i class="icon search"></i>
                <input type="submit" hidden="true">
              </form>
            </div>
          </div>
        </div>
      </div>
      <br /><br />

      <!-- Cards -->
        <div class="ui four stackable link cards">
          <% @games.each do |game| %>
            <!-- One card per game -->
            <%= link_to game do %>
              <div class="card">
                <!-- Image -->
                <div class="image">

                </div>
                <!-- Content -->
                <div class="content">
                  <div class="header">
                      <%= game.title %>
                  </div>
                  <div class="meta">
                    <%= game.game_type %>
                  </div>
                  <div class="description">

                  </div>
                </div>

                <!-- Extra Content -->

                <div class="extra content">
                  <span class="right floated">
                    <% if !game.updated_at.blank? %>
                      <%= game.updated_at.strftime("%d %B %Y") %>
                    <% end %>
                  </span>
                  <span style="color:#66cc00">
                    <i class="pin icon"></i>
                    <% if !game.venue.blank? %>
                      <%= game.venue %>
                    <% end %>
                  </span>
                </div>
              </div>

            <!-- End Loop-->
            <% end %>

          <% end %>
        </div>
    </div>

  </div>


  <br>
</body>
<%= link_to 'New Game', new_game_path %>
</html>
